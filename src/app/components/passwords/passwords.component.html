<div class="title">
  <h2>Список логинов и паролей проектов</h2>
  <button type="button" class="btn btn-primary">Добавить пароль</button>
</div>

<table class="table table-striped" style="margin-top: 30px">
  <thead>
    <tr>
      <th scope="col">Проект</th>
      <th scope="col">Программа</th>
      <th scope="col">Логин</th>
      <th scope="col">Пароль</th>
      <th scope="col">Действия</th>
    </tr>
  </thead>
  <tbody>
    @for(password of passwords;track password.id){
    <tr>
      <th scope="row">Компания</th>
      <td>{{ password.program }}</td>
      <td>{{ password.login }}</td>
      <td>{{ password.pass }}</td>
      <td>
        <button
          type="button"
          class="btn btn-outline-primary"
          onclick="window.dialog.showModal()"
          (click)="changeIdUpdate(password.id)"
        >
          Изменить
        </button>
        <button
          type="button"
          class="btn btn-danger"
          style="margin-left: 20px"
          (click)="deletePassword(password.id)"
        >
          Удалить
        </button>
      </td>
    </tr>
    }
  </tbody>
</table>
<dialog id="dialog">
  <form *ngIf="updateModel" (ngSubmit)="updatePassword()">
    <label for="program">Program
      <input
        type="text"
        id="program"
        name="program"
        [(ngModel)]="updateModel.program"
        required
      />
    </label>

    <label for="login">Login
      <input
        type="text"
        id="login"
        name="login"
        [(ngModel)]="updateModel.login"
        required
      />
    </label>

    <label for="pass">Password
      <input
        type="text"
        id="pass"
        name="pass"
        [(ngModel)]="updateModel.pass"
        required
      />
    </label>

    <button
      type="submit"
      style="background-color: green; color: aliceblue; cursor: pointer"
    >
      Update
    </button>
  </form>
  <button onclick="window.dialog.close();" aria-label="close" class="x">
    ❌
  </button>
</dialog>
